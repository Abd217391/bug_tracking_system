{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/ahmadabdullah/bug_tracking_system/components/qa/AddBugModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { X, Plus, Calendar, CloudUpload, Check, User } from \"lucide-react\";\n\ninterface Developer {\n  id: number;\n  name: string;\n}\n\ninterface AddBugModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  projectId: number;\n  handleBugAdded: () => void;\n}\n\nconst compressImage = (file: File, callback: (base64: string) => void) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = (event) => {\n    const img = new Image();\n    img.src = event.target?.result as string;\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      const maxWidth = 800;\n      const scaleSize = maxWidth / img.width;\n      const width = img.width > maxWidth ? maxWidth : img.width;\n      const height = img.width > maxWidth ? img.height * scaleSize : img.height;\n\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext(\"2d\");\n      ctx?.drawImage(img, 0, 0, width, height);\n\n      callback(canvas.toDataURL(\"image/jpeg\", 0.7));\n    };\n  };\n};\n\nexport default function AddBugModal({\n  isOpen,\n  onClose,\n  projectId,\n  handleBugAdded,\n}: AddBugModalProps) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [deadline, setDeadline] = useState(\"\");\n  const [screenshotUrl, setScreenshotUrl] = useState<string | null>(null);\n  const [type, setType] = useState(\"bug\");\n\n  const [developers, setDevelopers] = useState<Developer[]>([]);\n  const [assignedDevelopers, setAssignedDevelopers] = useState<number[]>([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const [isAssignDropdownOpen, setIsAssignDropdownOpen] = useState(false);\n  const dateInputRef = useRef<HTMLInputElement>(null);\n\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : \"\";\n\n  useEffect(() => {\n    if (!isOpen || !token) return;\n\n    fetch(\"http://localhost:8000/qa/developers\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        Accept: \"application/json\",\n      },\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(\"Unauthorized or Server Error\");\n        return res.json();\n      })\n      .then((data) => {\n        console.log(\"Developers received:\", data);\n        // Handles cases where data might be nested or direct array\n        const devs = Array.isArray(data)\n          ? data\n          : data.developers || data.data || [];\n        setDevelopers(devs);\n      })\n      .catch((err) => {\n        console.error(\"Dev fetch error:\", err);\n        setDevelopers([]);\n      });\n  }, [isOpen, token]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files?.[0]) {\n      compressImage(e.target.files[0], (base64) => setScreenshotUrl(base64));\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!title || !description || !deadline) {\n      alert(\"Please fill in Title, Description, and Deadline.\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const bugPayload = {\n        title,\n        description,\n        project_id: projectId,\n        type,\n        status: \"new\",\n        deadline,\n        screenshot_url: screenshotUrl || \"\",\n      };\n\n      const res = await fetch(\n        `http://localhost:8000/qa/projects/${projectId}/bugs`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify(bugPayload),\n        },\n      );\n\n      if (!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.detail || \"Failed to create bug\");\n      }\n\n      const createdBug = await res.json();\n      const newBugId = createdBug.id;\n\n      if (assignedDevelopers.length > 0 && newBugId) {\n        const assignRes = await fetch(\n          `http://localhost:8000/qa/bugs/${newBugId}/assign-developers`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`,\n            },\n            body: JSON.stringify(assignedDevelopers),\n          },\n        );\n\n        if (!assignRes.ok) {\n          console.warn(\n            \"Bug created, but assignments to junction table failed.\",\n          );\n        }\n      }\n\n      handleBugAdded();\n      onClose();\n    } catch (err: any) {\n      console.error(err);\n      alert(`Error: ${err.message}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleDeveloper = (id: number) => {\n    setAssignedDevelopers((prev) =>\n      prev.includes(id) ? prev.filter((d) => d !== id) : [...prev, id],\n    );\n  };\n\n  const getInitials = (name: string) =>\n    name ? name.substring(0, 2).toUpperCase() : \"??\";\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\">\n      <div className=\"relative w-full max-w-3xl bg-white rounded-2xl shadow-2xl p-8 animate-in fade-in zoom-in-95 duration-200\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-6 right-6 p-2 bg-slate-900 text-white rounded-lg hover:bg-slate-700 transition z-20\"\n        >\n          <X size={20} />\n        </button>\n\n        <h2 className=\"text-3xl font-bold text-slate-900 mb-8\">Add new bug</h2>\n\n        <div className=\"flex flex-wrap items-center gap-6 mb-8\">\n          <div className=\"relative z-10\">\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-gray-900 font-medium\">Assign to</span>\n              <div className=\"flex items-center -space-x-2\">\n                {Array.isArray(developers) &&\n                  developers\n                    .filter((d) => assignedDevelopers.includes(d.id))\n                    .slice(0, 3)\n                    .map((dev) => (\n                      <div\n                        key={dev.id}\n                        className=\"w-8 h-8 rounded-full bg-indigo-500 border-2 border-white flex items-center justify-center text-xs text-white font-bold\"\n                      >\n                        {getInitials(dev.name)}\n                      </div>\n                    ))}\n\n                {assignedDevelopers.length === 0 && (\n                  <div className=\"w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center\">\n                    <User size={14} className=\"text-gray-400\" />\n                  </div>\n                )}\n\n                <button\n                  onClick={() => setIsAssignDropdownOpen(!isAssignDropdownOpen)}\n                  className=\"w-8 h-8 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-500 hover:border-blue-500 hover:text-blue-500 bg-white transition\"\n                >\n                  <Plus size={16} />\n                </button>\n              </div>\n            </div>\n\n            {isAssignDropdownOpen && (\n              <div className=\"absolute top-12 left-0 w-64 bg-white rounded-xl shadow-xl border border-gray-100 p-2 overflow-hidden\">\n                <div className=\"text-xs font-bold text-gray-400 mb-2 px-2 uppercase\">\n                  Select Developers\n                </div>\n                <div className=\"max-h-48 overflow-y-auto space-y-1 custom-scrollbar\">\n                  {Array.isArray(developers) &&\n                    developers.map((dev) => {\n                      const isSelected = assignedDevelopers.includes(dev.id);\n                      return (\n                        <button\n                          key={dev.id}\n                          onClick={() => toggleDeveloper(dev.id)}\n                          className={`w-full flex items-center justify-between p-2 rounded-lg text-left transition ${isSelected ? \"bg-blue-50\" : \"hover:bg-gray-50\"}`}\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <div\n                              className={`w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold ${isSelected ? \"bg-blue-500 text-white\" : \"bg-gray-200 text-gray-600\"}`}\n                            >\n                              {getInitials(dev.name)}\n                            </div>\n                            <span\n                              className={`text-sm ${isSelected ? \"font-semibold text-blue-700\" : \"text-gray-700\"}`}\n                            >\n                              {dev.name}\n                            </span>\n                          </div>\n                          {isSelected && (\n                            <Check size={16} className=\"text-blue-600\" />\n                          )}\n                        </button>\n                      );\n                    })}\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex items-center gap-3 relative\">\n            <span className=\"text-gray-900 font-medium\">Add due date</span>\n            <div\n              className=\"relative cursor-pointer group\"\n              onClick={() => dateInputRef.current?.showPicker()}\n            >\n              <div className=\"w-9 h-9 rounded-full border border-dashed border-gray-300 flex items-center justify-center hover:border-blue-500 hover:text-blue-500 text-gray-500 transition bg-white\">\n                <Calendar size={18} />\n              </div>\n              <input\n                ref={dateInputRef}\n                type=\"date\"\n                value={deadline}\n                onChange={(e) => setDeadline(e.target.value)}\n                className=\"absolute inset-0 opacity-0 cursor-pointer\"\n              />\n            </div>\n            {deadline && (\n              <span className=\"text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full border border-blue-100\">\n                {deadline}\n              </span>\n            )}\n          </div>\n\n          <div className=\"ml-auto\">\n            <select\n              value={type}\n              onChange={(e) => setType(e.target.value)}\n              className=\"bg-gray-50 text-xs font-semibold text-gray-600 py-2 px-3 rounded-lg hover:bg-gray-100 outline-none border border-transparent focus:border-gray-200 cursor-pointer\"\n            >\n              <option value=\"bug\">Bug</option>\n              <option value=\"feature\">Feature</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"space-y-6\">\n          <input\n            type=\"text\"\n            placeholder=\"Add title here\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"w-full text-4xl font-bold text-gray-900 placeholder-gray-300 border-none focus:ring-0 focus:outline-none p-0 bg-transparent\"\n          />\n\n          <div>\n            <label className=\"block text-lg font-semibold text-gray-800 mb-2\">\n              Details\n            </label>\n            <textarea\n              placeholder=\"Add description...\"\n              rows={3}\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              className=\"w-full text-lg text-gray-600 placeholder-gray-300 border-none focus:ring-0 focus:outline-none resize-none p-0 bg-transparent\"\n            />\n          </div>\n\n          <div className=\"mt-4\">\n            <div className=\"relative flex flex-col items-center justify-center w-full h-40 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 hover:border-blue-400 hover:bg-blue-50/30 transition cursor-pointer overflow-hidden\">\n              {!screenshotUrl ? (\n                <>\n                  <CloudUpload size={32} className=\"text-slate-400 mb-2\" />\n                  <p className=\"text-slate-500 font-medium text-sm\">\n                    Drop file here or{\" \"}\n                    <span className=\"text-blue-600 underline\">browse</span>\n                  </p>\n                </>\n              ) : (\n                <div className=\"relative h-full w-full flex items-center justify-center bg-slate-100\">\n                  <img\n                    src={screenshotUrl}\n                    alt=\"Preview\"\n                    className=\"h-full object-contain\"\n                  />\n                  <button\n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                      setScreenshotUrl(null);\n                    }}\n                    className=\"absolute top-2 right-2 bg-white/80 hover:bg-white text-red-500 p-1.5 rounded-full shadow-sm backdrop-blur-sm transition\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              )}\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleFileChange}\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-8 flex justify-end\">\n          <button\n            onClick={handleSubmit}\n            disabled={isSubmitting}\n            className={`px-8 py-3 rounded-xl text-white font-semibold shadow-lg transition-all active:scale-95 ${\n              isSubmitting\n                ? \"bg-slate-400 cursor-not-allowed\"\n                : \"bg-blue-600 hover:bg-blue-700\"\n            }`}\n          >\n            {isSubmitting ? \"Saving...\" : \"Create Bug\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///Users/ahmadabdullah/bug_tracking_system/components/bugs/BugDetailsModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  X,\n  Calendar,\n  Image,\n  Tag,\n  User,\n  Clock,\n  Info,\n  Users,\n} from \"lucide-react\";\n\ninterface Bug {\n  id: number;\n  title: string;\n  description: string;\n  status: string;\n  type: string;\n  created_by: number;\n  deadline?: string;\n  screenshot_url?: string;\n  created_at: string;\n}\n\ninterface Assignee {\n  id: number;\n  name: string;\n  email: string;\n}\n\ninterface Props {\n  bug: Bug;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function BugDetailsModal({ bug, isOpen, onClose }: Props) {\n  const [status, setStatus] = useState(bug.status);\n  const [loading, setLoading] = useState(false);\n  const [assignees, setAssignees] = useState<Assignee[]>([]);\n  const [mounted, setMounted] = useState(false); // Fixes Hydration error\n\n  const role =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"role\") : null;\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n\n  // Sync internal status state if the bug prop changes\n  useEffect(() => {\n    setStatus(bug.status);\n  }, [bug.status]);\n\n  useEffect(() => {\n    setMounted(true); // Component is now on the client\n\n    const fetchAssignees = async () => {\n      if (!bug.id || !token || !isOpen) return;\n      try {\n        const res = await fetch(\n          `http://localhost:8000/bugs/${bug.id}/assignees`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              accept: \"application/json\",\n            },\n          },\n        );\n        if (res.ok) {\n          const data = await res.json();\n          setAssignees(data);\n        }\n      } catch (err) {\n        console.error(\"Failed to load assignees\", err);\n      }\n    };\n\n    fetchAssignees();\n  }, [bug.id, isOpen, token]);\n\n  if (!isOpen || !mounted) return null; //  Don't render until mounted to avoid hydration error\n\n  const handleUpdateStatus = async () => {\n    if (!token) return;\n    setLoading(true);\n    try {\n      const res = await fetch(\n        `http://localhost:8000/developer/bugs/${bug.id}/status?status_update=${encodeURIComponent(status)}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n            accept: \"application/json\",\n          },\n        },\n      );\n      if (res.ok) {\n        onClose();\n      } else {\n        alert(\"Failed to update status\");\n      }\n    } catch (err) {\n      alert(\"Error updating status\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 backdrop-blur-sm\">\n      <div className=\"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden relative flex flex-col max-h-[90vh]\">\n        {/* Header */}\n        <div className=\"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50\">\n          <div>\n            <div className=\"flex items-center gap-2 mb-1\">\n              <span\n                className={`text-[10px] font-bold uppercase px-2 py-0.5 rounded-md ${bug.type === \"bug\" ? \"bg-red-100 text-red-600\" : \"bg-blue-100 text-blue-600\"}`}\n              >\n                {bug.type || \"Bug\"}\n              </span>\n              <span className=\"text-gray-400 text-xs font-mono\">#{bug.id}</span>\n            </div>\n            <h2 className=\"text-xl font-bold text-slate-800\">{bug.title}</h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-400\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Scrollable Body */}\n        <div className=\"p-6 overflow-y-auto space-y-6\">\n          {/* Description */}\n          <div>\n            <label className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block\">\n              Description\n            </label>\n            <div className=\"text-sm text-slate-600 leading-relaxed bg-slate-50 p-4 rounded-xl border border-slate-100\">\n              {bug.description || \"No description provided.\"}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-6\">\n            {/* Status Selector */}\n            <div>\n              <label className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block\">\n                Status\n              </label>\n              {role === \"developer\" ? (\n                <select\n                  value={status}\n                  onChange={(e) => setStatus(e.target.value)}\n                  className=\"w-full bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  {[\"new\", \"started\", \"resolved\"].map((opt) => (\n                    <option key={opt} value={opt}>\n                      {opt.toUpperCase()}\n                    </option>\n                  ))}\n                </select>\n              ) : (\n                <div className=\"px-3 py-2 bg-blue-50 text-blue-700 text-sm font-bold rounded-lg inline-block capitalize\">\n                  {bug.status}\n                </div>\n              )}\n            </div>\n\n            {/* Deadline */}\n            <div>\n              <label className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block\">\n                Deadline\n              </label>\n              <div className=\"flex items-center gap-2 text-sm text-slate-700 font-medium py-2\">\n                <Calendar size={16} className=\"text-slate-400\" />\n                {bug.deadline\n                  ? new Date(bug.deadline).toLocaleDateString()\n                  : \"No deadline\"}\n              </div>\n            </div>\n          </div>\n\n          {/* Assigned Team */}\n          <div>\n            <label className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-3 block flex items-center gap-2\">\n              <Users size={14} /> Assigned Team\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              {assignees.length > 0 ? (\n                assignees.map((dev) => (\n                  <div\n                    key={dev.id}\n                    className=\"flex items-center gap-2 bg-indigo-50 border border-indigo-100 px-3 py-1.5 rounded-full shadow-sm\"\n                  >\n                    <div className=\"w-5 h-5 bg-indigo-600 rounded-full flex items-center justify-center text-[9px] text-white font-bold\">\n                      {dev.name.charAt(0).toUpperCase()}\n                    </div>\n                    <span className=\"text-xs font-semibold text-indigo-700\">\n                      {dev.name}\n                    </span>\n                  </div>\n                ))\n              ) : (\n                <span className=\"text-xs text-slate-400 italic\">\n                  No developers assigned yet.\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* Screenshot */}\n          {bug.screenshot_url && (\n            <div>\n              <label className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block\">\n                Screenshot Attachment\n              </label>\n              <div className=\"rounded-xl border border-slate-100 overflow-hidden shadow-sm\">\n                <img\n                  src={bug.screenshot_url}\n                  alt=\"bug screenshot\"\n                  className=\"w-full object-contain max-h-[300px] bg-slate-50 cursor-pointer\"\n                  onClick={() => window.open(bug.screenshot_url, \"_blank\")}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Footer Actions */}\n        {role === \"developer\" && (\n          <div className=\"p-4 bg-slate-50 border-t border-gray-100 flex justify-end\">\n            <button\n              onClick={handleUpdateStatus}\n              disabled={loading}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl font-bold text-sm shadow-lg shadow-blue-100 transition-all active:scale-95 disabled:opacity-50\"\n            >\n              {loading ? \"Updating...\" : \"Update Bug Status\"}\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 944, "column": 0}, "map": {"version":3,"sources":["file:///Users/ahmadabdullah/bug_tracking_system/components/bugs/BuglistView.tsx"],"sourcesContent":["import React from \"react\";\nimport { Calendar, MoreVertical, User } from \"lucide-react\";\n\ninterface Bug {\n  id: number;\n  title: string;\n  status: string;\n  assignees: { name: string }[];\n  deadline?: string;\n}\n\ninterface BugListViewProps {\n  bugs: Bug[];\n  onBugClick: (bug: Bug) => void;\n}\n\nconst BugListView: React.FC<BugListViewProps> = ({ bugs, onBugClick }) => {\n  // Helper to get text color based on status\n  const getStatusColor = (status: string) => {\n    switch (status.toLowerCase()) {\n      case \"new\":\n        return \"text-red-500\";\n      case \"started\":\n        return \"text-blue-500\";\n      case \"resolved\":\n        return \"text-green-500\";\n      default:\n        return \"text-gray-500\";\n    }\n  };\n\n  return (\n    <div className=\"bg-white border border-[#F1F5F9] rounded-b-xl overflow-hidden shadow-sm\">\n      <table className=\"w-full text-left border-collapse\">\n        <thead className=\"bg-[#F8FAFC] text-[11px] font-bold text-[#94A3B8] uppercase tracking-wider border-b border-[#F1F5F9]\">\n          <tr>\n            <th className=\"px-6 py-4\">Bug Details</th>\n            <th className=\"px-6 py-4\">Status</th>\n            <th className=\"px-6 py-4\">Due Date</th>\n            <th className=\"px-6 py-4\">Assigned To</th>\n            <th className=\"px-6 py-4 text-center\">Action</th>\n          </tr>\n        </thead>\n        <tbody className=\"divide-y divide-[#F1F5F9]\">\n          {bugs.map((bug) => (\n            <tr\n              key={bug.id}\n              onClick={() => onBugClick(bug)}\n              className=\"hover:bg-[#F8FAFC] cursor-pointer transition-colors\"\n            >\n              <td className=\"px-6 py-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className={`w-2 h-2 rounded-full ${\n                      bug.status.toLowerCase() === \"new\"\n                        ? \"bg-red-500\"\n                        : bug.status.toLowerCase() === \"started\"\n                        ? \"bg-blue-500\"\n                        : bug.status.toLowerCase() === \"resolved\"\n                        ? \"bg-green-500\"\n                        : \"bg-gray-300\"\n                    }`}\n                  />\n                  <span className=\"text-[13px] font-medium text-[#475569]\">\n                    {bug.title}\n                  </span>\n                </div>\n              </td>\n              <td className={`px-6 py-4 text-[12px] font-semibold capitalize ${getStatusColor(bug.status)}`}>\n                {bug.status}\n              </td>\n              <td className=\"px-6 py-4 text-[#64748B] text-[12px]\">\n                <div className=\"flex items-center gap-2\">\n                  <Calendar size={14} className=\"text-[#3B82F6]\" />\n                  {bug.deadline\n                    ? new Date(bug.deadline).toLocaleDateString()\n                    : \"-\"}\n                </div>\n              </td>\n              <td className=\"px-6 py-4\">\n                <div className=\"flex -space-x-2\">\n                  {Array.isArray(bug.assignees) && bug.assignees.length > 0 ? (\n                    bug.assignees.slice(0, 3).map((u, i) => (\n                      <div\n                        key={i}\n                        title={u.name}\n                        className=\"w-7 h-7 rounded-full bg-[#1E293B] border-2 border-white flex items-center justify-center text-white text-[9px] font-bold\"\n                      >\n                        {u.name?.substring(0, 2).toUpperCase() || \"??\"}\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"w-7 h-7 rounded-full bg-[#F1F5F9] border-2 border-white flex items-center justify-center text-[#94A3B8]\">\n                      <User size={12} />\n                    </div>\n                  )}\n                </div>\n              </td>\n              <td className=\"px-6 py-4 text-center\">\n                <button className=\"p-1 hover:bg-gray-100 rounded-md\">\n                  <MoreVertical size={16} className=\"text-[#94A3B8]\" />\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default BugListView;\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;;;AAeA,MAAM,cAA0C,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE;IACnE,2CAA2C;IAC3C,MAAM,iBAAiB,CAAC;QACtB,OAAQ,OAAO,WAAW;YACxB,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAY;;;;;;0CAC1B,8OAAC;gCAAG,WAAU;0CAAY;;;;;;0CAC1B,8OAAC;gCAAG,WAAU;0CAAY;;;;;;0CAC1B,8OAAC;gCAAG,WAAU;0CAAY;;;;;;0CAC1B,8OAAC;gCAAG,WAAU;0CAAwB;;;;;;;;;;;;;;;;;8BAG1C,8OAAC;oBAAM,WAAU;8BACd,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;4BAEC,SAAS,IAAM,WAAW;4BAC1B,WAAU;;8CAEV,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,WAAW,CAAC,qBAAqB,EAC/B,IAAI,MAAM,CAAC,WAAW,OAAO,QACzB,eACA,IAAI,MAAM,CAAC,WAAW,OAAO,YAC7B,gBACA,IAAI,MAAM,CAAC,WAAW,OAAO,aAC7B,iBACA,eACJ;;;;;;0DAEJ,8OAAC;gDAAK,WAAU;0DACb,IAAI,KAAK;;;;;;;;;;;;;;;;;8CAIhB,8OAAC;oCAAG,WAAW,CAAC,+CAA+C,EAAE,eAAe,IAAI,MAAM,GAAG;8CAC1F,IAAI,MAAM;;;;;;8CAEb,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,sNAAQ;gDAAC,MAAM;gDAAI,WAAU;;;;;;4CAC7B,IAAI,QAAQ,GACT,IAAI,KAAK,IAAI,QAAQ,EAAE,kBAAkB,KACzC;;;;;;;;;;;;8CAGR,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAI,WAAU;kDACZ,MAAM,OAAO,CAAC,IAAI,SAAS,KAAK,IAAI,SAAS,CAAC,MAAM,GAAG,IACtD,IAAI,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBAChC,8OAAC;gDAEC,OAAO,EAAE,IAAI;gDACb,WAAU;0DAET,EAAE,IAAI,EAAE,UAAU,GAAG,GAAG,iBAAiB;+CAJrC;;;;0GAQT,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,0MAAI;gDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;8CAKpB,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAO,WAAU;kDAChB,cAAA,8OAAC,0OAAY;4CAAC,MAAM;4CAAI,WAAU;;;;;;;;;;;;;;;;;2BAtDjC,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;AA+DzB;uCAEe"}},
    {"offset": {"line": 1184, "column": 0}, "map": {"version":3,"sources":["file:///Users/ahmadabdullah/bug_tracking_system/components/bugs/BugGridView.tsx"],"sourcesContent":["import React from \"react\";\nimport { Calendar, MoreVertical, User } from \"lucide-react\";\n\ninterface Bug {\n  id: number;\n  title: string;\n  status: string;\n  assignees: { name: string }[];\n  deadline?: string;\n}\n\ninterface BugGridViewProps {\n  bugs: Bug[];\n  onBugClick: (bug: Bug) => void;\n}\n\nconst BugGridView: React.FC<BugGridViewProps> = ({ bugs, onBugClick }) => {\n  return (\n    <div className=\"grid sm:[px786] grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6   \">\n      {bugs.map((bug) => (\n        <div\n          key={bug.id}\n          className=\"bg-white border border-gray-100 rounded-xl p-5 shadow-sm flex flex-col h-full\"\n        >\n          <div>\n            <div className=\"flex justify-between items-start mb-4\">\n              <h3 className=\"font-bold text-slate-900 text-lg leading-tight line-clamp-2\">\n                {bug.title}\n              </h3>\n              <MoreVertical size={18} className=\"text-gray-400\" />\n            </div>\n            <div className=\"space-y-4 mb-6\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-blue-400 font-medium\">Due Date</span>\n                <span className=\"text-gray-700 font-medium\">\n                  {bug.deadline || \"No date\"}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-blue-400 font-medium\">\n                  Assigned To\n                </span>\n                <div className=\"flex -space-x-2\">\n                  {Array.isArray(bug.assignees) && bug.assignees.length > 0 ? (\n                    bug.assignees.map((u, i) => (\n                      <div\n                        key={i}\n                        title={u.name}\n                        className=\"w-6 h-6 rounded-full bg-indigo-500 border-2 border-white flex items-center justify-center text-white text-[8px] font-bold\"\n                      >\n                        {u.name?.substring(0, 2).toUpperCase() || \"??\"}\n                      </div>\n                    ))\n                  ) : (\n                    <User size={14} className=\"text-gray-300\" />\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={() => onBugClick(bug)}\n            className=\"w-full mt-auto bg-gray-50 hover:bg-gray-100 text-slate-700 font-semibold py-2 rounded-lg text-sm transition\"\n          >\n            View Details\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default BugGridView;\n"],"names":[],"mappings":";;;;;AACA;AAAA;;;AAeA,MAAM,cAA0C,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE;IACnE,qBACE,8OAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;gBAEC,WAAU;;kCAEV,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX,IAAI,KAAK;;;;;;kDAEZ,8OAAC,0OAAY;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;;0CAEpC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAA4B;;;;;;0DAC5C,8OAAC;gDAAK,WAAU;0DACb,IAAI,QAAQ,IAAI;;;;;;;;;;;;kDAGrB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAoC;;;;;;0DAGpD,8OAAC;gDAAI,WAAU;0DACZ,MAAM,OAAO,CAAC,IAAI,SAAS,KAAK,IAAI,SAAS,CAAC,MAAM,GAAG,IACtD,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,kBACpB,8OAAC;wDAEC,OAAO,EAAE,IAAI;wDACb,WAAU;kEAET,EAAE,IAAI,EAAE,UAAU,GAAG,GAAG,iBAAiB;uDAJrC;;;;kHAQT,8OAAC,0MAAI;oDAAC,MAAM;oDAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAMpC,8OAAC;wBACC,SAAS,IAAM,WAAW;wBAC1B,WAAU;kCACX;;;;;;;eA1CI,IAAI,EAAE;;;;;;;;;;AAiDrB;uCAEe"}},
    {"offset": {"line": 1332, "column": 0}, "map": {"version":3,"sources":["file:///Users/ahmadabdullah/bug_tracking_system/app/dashboard/bugs/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Plus,\n  Bell,\n  Search,\n  ChevronLeft,\n  ChevronRight,\n  List,\n  LayoutGrid,\n  RefreshCw,\n  Smile,\n  ChevronDown,\n  LogOut,\n} from \"lucide-react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport AddBugModal from \"@/components/qa/AddBugModal\";\nimport BugDetailsModal from \"@/components/bugs/BugDetailsModal\";\nimport BugListView from \"@/components/bugs/BuglistView\";\nimport BugGridView from \"@/components/bugs/BugGridView\";\n\ninterface Bug {\n  id: number;\n  title: string;\n  description: string;\n  status: string;\n  type: string;\n  created_by: number;\n  deadline?: string;\n  screenshot_url?: string;\n  created_at: string;\n}\n\n\ninterface Project {\n  id: number;\n  title: string;\n}\n\nexport default function BugDashboard() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const projectIdParam = searchParams.get(\"project_id\");\n  const projectNameParam = searchParams.get(\"project_name\");\n\n  const [projectName, setProjectName] = useState<string | null>(projectNameParam);\n  const [bugs, setBugs] = useState<Bug[]>([]);\n  const [projectsList, setProjectsList] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [viewMode, setViewMode] = useState<\"list\" | \"grid\">(\"list\");\n  const [isAddBugOpen, setIsAddBugOpen] = useState(false);\n  const [selectedBug, setSelectedBug] = useState<Bug | null>(null);\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [mounted, setMounted] = useState(false);\n\n  // Pagination Config\n  const [rowsPerPage, setRowsPerPage] = useState(6);\n  const containerClass = \"max-w-[1000px] mx-auto px-6\";\n\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n  const role = typeof window !== \"undefined\" ? localStorage.getItem(\"role\") : null;\n\n  const fetchProjects = async () => {\n    if (!token || !role) return;\n    try {\n      const url = role === \"manager\" || role === \"qa\"\n          ? `http://localhost:8000/${role}/projectstodisplaythehisownprojects`\n          : `http://localhost:8000/developer/projects`;\n      const res = await fetch(url, { headers: { Authorization: `Bearer ${token}` } });\n      const data = await res.json();\n      const mapped = Array.isArray(data) ? data.map((p: any) => ({ id: p.id, title: p.title || \"Untitled Project\" })) : [];\n      setProjectsList(mapped);\n    } catch (err) {\n      console.error(\"Fetch projects error:\", err);\n      setProjectsList([]);\n    }\n  };\n\n  const fetchBugs = async (projId?: string | null) => {\n    if (!token) return;\n    setLoading(true);\n    setError(false);\n    try {\n      let url = \"\";\n      if (role === \"manager\" || role === \"qa\") {\n        url = projId ? `http://localhost:8000/${role}/projects/${projId}/bugs` : `http://localhost:8000/bugs`;\n      } else if (role === \"developer\") {\n        url = projId ? `http://localhost:8000/developer/projects/${projId}/bugs` : `http://localhost:8000/bugs`;\n      }\n      const res = await fetch(url, { headers: { Authorization: `Bearer ${token}`, accept: \"application/json\" } });\n      if (!res.ok) { setBugs([]); setLoading(false); return; }\n      const data = await res.json();\n      setBugs(data.map((b: any) => ({\n          id: b.id,\n          title: b.title,\n          status: b.status || \"new\",\n          assignees: b.assignments?.map((a: any) => ({ name: a.user?.name || \"Unknown\" })) || [],\n          deadline: b.deadline,\n          description: b.description,\n        })));\n    } catch (err) { setError(true); } finally { setLoading(false); }\n  };\n\n  useEffect(() => {\n    setMounted(true);\n    fetchProjects();\n    fetchBugs(projectIdParam);\n  }, [projectIdParam, token, role]);\n\n  // Reset page when search changes\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [search]);\n\n  // Logic for filtering and slicing\n  const filteredBugs = bugs.filter((b) => b.title.toLowerCase().includes(search.toLowerCase()));\n  const totalPages = Math.ceil(filteredBugs.length / rowsPerPage);\n  \n  // FIXED: Calculation for current display slice\n  const startIndex = (currentPage - 1) * rowsPerPage;\n  const currentBugs = filteredBugs.slice(startIndex, startIndex + rowsPerPage);\n\n  const handleLogout = () => { localStorage.clear(); router.replace(\"/login\"); };\n\n  const handleProjectChange = (projId: string) => {\n    if (!projId) {\n      setProjectName(null); fetchBugs(null); router.push(\"/dashboard/bugs\");\n    } else {\n      const selectedProject = projectsList.find((p) => p.id === Number(projId));\n      if (selectedProject) {\n        setProjectName(selectedProject.title);\n        router.push(`/dashboard/bugs?project_id=${selectedProject.id}&project_name=${encodeURIComponent(selectedProject.title)}`);\n        fetchBugs(projId);\n      }\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white text-[#475569] font-sans\">\n      {mounted ? (\n        <>\n          <nav className=\"bg-white border-b border-gray-100 sticky top-0 z-40\">\n            <div className={`${containerClass} flex items-center justify-between py-2`}>\n              <div className=\"flex items-center gap-10\">\n                <div className=\"cursor-pointer\" onClick={() => router.push(\"/dashboard/project\")}>\n                  <img src=\"/logo.png\" alt=\"ManageBug\" className=\"h-5\" />\n                </div>\n                <div className=\"flex items-center gap-5\">\n                  <button onClick={() => router.push(\"/dashboard/project\")} className=\"flex items-center gap-1.5 text-[#94A3B8] text-[13px] font-medium hover:text-[#3B82F6]\">\n                    <img src=\"/projects.png\" className=\"h-3.5 w-3.5\" alt=\"\" />\n                    <span>Projects</span>\n                  </button>\n                  <button onClick={() => { setProjectName(null); fetchBugs(null); router.push(\"/dashboard/bugs\"); }} className=\"flex items-center gap-1.5 text-[#3B82F6] text-[13px] font-medium\">\n                    <img src=\"/bug.png\" className=\"h-3.5\" alt=\"\" />\n                    <span>Bugs</span>\n                  </button>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                <Bell size={12} className=\"text-[#94A3B8] cursor-pointer\" />\n                <div className=\"relative\">\n                  <div onClick={() => setIsProfileOpen(!isProfileOpen)} className=\"flex items-center gap-2 bg-[#F8FAFC] px-2 py-1 rounded-md border border-gray-100 cursor-pointer\">\n                    <div className=\"w-6 h-6 bg-[#0F172A] rounded-md flex items-center justify-center text-white text-[10px] font-bold\">V</div>\n                    <span className=\"text-[11px] font-bold text-[#1E293B] uppercase\">{role || \"User\"}</span>\n                    <ChevronDown size={10} />\n                  </div>\n                  {isProfileOpen && (\n                    <div className=\"absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-lg py-1 z-50\">\n                      <button onClick={handleLogout} className=\"w-full px-3 py-1.5 text-[11px] text-red-500 flex items-center gap-2 hover:bg-red-50\"><LogOut size={10} /> Logout</button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </nav>\n\n          <main className={`${containerClass} py-8`}>\n            <div className=\"flex justify-between items-center mb-5\">\n              <h1 className=\"text-2xl font-bold text-[#1E293B]\">{projectName ? `${projectName} ` : \"All Bugs Listing\"}</h1>\n              <div className=\"flex items-center gap-2\">\n                {projectsList.length > 0 && (\n                  <select value={projectIdParam || \"\"} onChange={(e) => handleProjectChange(e.target.value)} className=\"text-xs border border-gray-200 rounded-lg p-1 bg-white\">\n                    <option value=\"\">All Projects</option>\n                    {projectsList.map((p) => <option key={p.id} value={p.id}>{p.title}</option>)}\n                  </select>\n                )}\n                {role === \"qa\" && projectIdParam && (\n                  <button onClick={() => setIsAddBugOpen(true)} className=\"bg-[#3B82F6] text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 text-[12px] font-semibold\"><Plus size={12} /> New Task Bug</button>\n                )}\n              </div>\n            </div>\n\n            {error ? (\n              <div className=\"bg-[#F8FAFC] border-2 border-dashed rounded-2xl p-12 flex flex-col items-center text-center\">\n                <Smile size={20} className=\"rotate-180 text-red-400 mb-2\" />\n                <h3 className=\"text-sm font-bold\">Something went wrong</h3>\n                <button onClick={() => fetchBugs(projectIdParam)} className=\"mt-3 flex items-center gap-2 bg-slate-800 text-white px-4 py-1.5 rounded-md text-xs\"><RefreshCw size={12} /> Try Again</button>\n              </div>\n            ) : !loading && bugs.length === 0 ? (\n              <div className=\"bg-[#F8FAFC] border-2 border-dashed rounded-2xl p-12 text-center\"><h3 className=\"text-sm font-bold\">No bugs exist</h3></div>\n            ) : (\n              <>\n                <div className=\"bg-white p-3 rounded-t-xl border flex justify-between\">\n                  <div className=\"relative w-64\">\n                    <Search size={12} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n                    <input placeholder=\"Search bugs...\" value={search} onChange={(e) => setSearch(e.target.value)} className=\"pl-9 pr-3 py-1.5 w-full bg-[#F8FAFC] border rounded-lg text-xs\" />\n                  </div>\n                  <div className=\"flex bg-[#F1F5F9] p-0.5 rounded-lg gap-1\">\n                    <button onClick={() => setViewMode(\"list\")} className={`p-1 rounded transition ${viewMode === 'list' ? 'bg-white shadow-sm text-blue-500' : 'text-gray-400'}`}><List size={14} /></button>\n                    <button onClick={() => setViewMode(\"grid\")} className={`p-1 rounded transition ${viewMode === 'grid' ? 'bg-white shadow-sm text-blue-500' : 'text-gray-400'}`}><LayoutGrid size={14} /></button>\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-b-xl border shadow-sm min-h-[300px]\">\n                  {loading ? (\n                    <div className=\"flex flex-col items-center py-12 gap-2\"><RefreshCw className=\"animate-spin\" size={20} /><p className=\"text-xs\">Fetching bugs...</p></div>\n                  ) : viewMode === \"list\" ? (\n                    <BugListView bugs={currentBugs} onBugClick={setSelectedBug} />\n                  ) : (\n                    <BugGridView bugs={currentBugs} onBugClick={setSelectedBug} />\n                  )}\n                </div>\n\n                {/* --- CORRECTED PAGINATION UI --- */}\n                {filteredBugs.length > 0 && (\n                  <div className=\"mt-6 flex justify-between items-center border-t border-gray-100 pt-4\">\n                    <p className=\"text-[11px] text-[#94A3B8] font-medium\">\n                      Showing {startIndex + 1} to {Math.min(startIndex + rowsPerPage, filteredBugs.length)} of {filteredBugs.length} entries\n                    </p>\n\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-[11px] text-[#94A3B8] font-medium\">Display</span>\n                        <select \n                          value={rowsPerPage} \n                          onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }}\n                          className=\"bg-white border border-gray-200 rounded-md px-1 py-0.5 text-[11px] outline-none\"\n                        >\n                          <option value={6}>6</option>\n                          <option value={12}>12</option>\n                        </select>\n                      </div>\n\n                      <div className=\"flex items-center gap-1\">\n                        <button \n                          disabled={currentPage === 1}\n                          onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                          className=\"w-7 h-7 flex items-center justify-center bg-[#F1F5F9] rounded-md text-[#64748B] disabled:opacity-50 hover:bg-gray-200\"\n                        >\n                          <ChevronLeft size={14} />\n                        </button>\n\n                        {/* Generate page numbers dynamically */}\n                        {Array.from({ length: totalPages }, (_, i) => (\n                          <button\n                            key={i + 1}\n                            onClick={() => setCurrentPage(i + 1)}\n                            className={`w-7 h-7 flex items-center justify-center rounded-md text-[11px] font-bold transition-all ${\n                              currentPage === i + 1 \n                                ? \"bg-[#3B82F6] text-white shadow-sm\" \n                                : \"text-[#64748B] hover:bg-gray-100\"\n                            }`}\n                          >\n                            {i + 1}\n                          </button>\n                        ))}\n\n                        <button \n                          disabled={currentPage === totalPages}\n                          onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\n                          className=\"w-7 h-7 flex items-center justify-center bg-[#F1F5F9] rounded-md text-[#64748B] disabled:opacity-50 hover:bg-gray-200\"\n                        >\n                          <ChevronRight size={14} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </>\n            )}\n          </main>\n\n          {role === \"qa\" && projectIdParam && (\n            <AddBugModal isOpen={isAddBugOpen} onClose={() => { setIsAddBugOpen(false); fetchBugs(projectIdParam); }} projectId={Number(projectIdParam)} handleBugAdded={() => { setIsAddBugOpen(false); fetchBugs(projectIdParam); }} />\n          )}\n\n          {selectedBug && (\n            <BugDetailsModal bug={selectedBug} isOpen={!!selectedBug} onClose={() => { setSelectedBug(null); fetchBugs(projectIdParam); }} />\n          )}\n        </>\n      ) : (\n        <div className=\"min-h-screen flex items-center justify-center\"><p className=\"text-gray-400 text-xs\">Loading application...</p></div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}